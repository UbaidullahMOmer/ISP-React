{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Config } from \"../constant/Index\";\nconst useAuthCheck = () => {\n  _s();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState(null);\n  useEffect(() => {\n    const checkAuthentication = async () => {\n      try {\n        const response = await fetch(`${Config.serverUrl}api/me`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(Config.userDzFoodToken)}`\n          }\n        });\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          console.log(\"status 200\", response === null || response === void 0 ? void 0 : response.status);\n          setStatus(response === null || response === void 0 ? void 0 : response.status);\n        } else {\n          localStorage.removeItem(Config.userDzFoodToken);\n          navigate(\"/login\");\n        }\n      } catch (error) {\n        console.error(\"Authentication Error:\", error);\n        setStatus(null);\n      }\n    };\n    checkAuthentication();\n  }, [navigate]);\n  return status;\n};\n_s(useAuthCheck, \"2pBTb1pKHodwBETI5MBFFDmGMa8=\", false, function () {\n  return [useNavigate];\n});\nexport default useAuthCheck;","map":{"version":3,"names":["useEffect","useState","useNavigate","Config","useAuthCheck","_s","navigate","status","setStatus","checkAuthentication","response","fetch","serverUrl","method","headers","Authorization","localStorage","getItem","userDzFoodToken","console","log","removeItem","error"],"sources":["C:/Users/abdul/Documents/GitHub/ISP-React/src/App/ReactRoutes/useAuthCheck.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Config } from \"../constant/Index\";\r\n\r\nconst useAuthCheck = () => {\r\n  const navigate = useNavigate();\r\n  const [status, setStatus] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const checkAuthentication = async () => {\r\n      try {\r\n        const response = await fetch(`${Config.serverUrl}api/me`, {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\r\n              Config.userDzFoodToken\r\n            )}`,\r\n          },\r\n        });\r\n\r\n        if (response?.status === 200) {\r\n          console.log(\"status 200\", response?.status);\r\n          setStatus(response?.status);\r\n        } else {\r\n          localStorage.removeItem(Config.userDzFoodToken);\r\n          navigate(\"/login\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Authentication Error:\", error);\r\n        setStatus(null);\r\n      }\r\n    };\r\n\r\n    checkAuthentication();\r\n  }, [navigate]);\r\n\r\n  return status;\r\n};\r\n\r\nexport default useAuthCheck;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,MAAM,QAAQ,mBAAmB;AAE1C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAE1CD,SAAS,CAAC,MAAM;IACd,MAAMS,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAER,MAAM,CAACS,SAAU,QAAO,EAAE;UACxDC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAC3Cd,MAAM,CAACe,eACT,CAAE;UACJ;QACF,CAAC,CAAC;QAEF,IAAI,CAAAR,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEH,MAAM,MAAK,GAAG,EAAE;UAC5BY,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEV,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEH,MAAM,CAAC;UAC3CC,SAAS,CAACE,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEH,MAAM,CAAC;QAC7B,CAAC,MAAM;UACLS,YAAY,CAACK,UAAU,CAAClB,MAAM,CAACe,eAAe,CAAC;UAC/CZ,QAAQ,CAAC,QAAQ,CAAC;QACpB;MACF,CAAC,CAAC,OAAOgB,KAAK,EAAE;QACdH,OAAO,CAACG,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7Cd,SAAS,CAAC,IAAI,CAAC;MACjB;IACF,CAAC;IAEDC,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,CAACH,QAAQ,CAAC,CAAC;EAEd,OAAOC,MAAM;AACf,CAAC;AAACF,EAAA,CAjCID,YAAY;EAAA,QACCF,WAAW;AAAA;AAkC9B,eAAeE,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}